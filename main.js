(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},s=[],i=0;i<e.length;i++){var l=e[i],c=r.base?l[0]+r.base:l[0],d=o[c]||0,m="".concat(c," ").concat(d);o[c]=d+1;var p=t(m),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)n[p].references++,n[p].updater(u);else{var h=a(u,r);r.byIndex=i,n.splice(i,0,{identifier:m,updater:h,references:1})}s.push(m)}return s}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var i=t(o[s]);n[i].references--}for(var l=r(e,a),c=0;c<o.length;c++){var d=t(o[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=l}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),n.push(d))}},n}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},919:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(601),a=t.n(r),o=t(314),s=t.n(o)()(a());s.push([e.id,'*,\n*::before,\n*::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\nbody {\n  height: 100dvh;\n  width: 100dvw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n#container {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  font-family: Arial, Helvetica, sans-serif;\n}\n#container > main {\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n}\n#boards-divider {\n  height: 100%;\n  width: 0.1rem;\n  background-color: white;\n}\nh2 {\n  margin-bottom: 0.4rem;\n  text-align: center;\n}\n.board-container {\n  position: relative;\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  height: 60dvh;\n  aspect-ratio: 1/1;\n  border: 2px solid black;\n  pointer-events: none;\n  transition: border-color 0.3s ease;\n}\n.cell {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid black;\n  background-color: rgba(0, 0, 0, 0.1);\n  transition: background-color 0.3s ease, border-color 0.3s ease;\n  cursor: default;\n}\n.board-container:not(.disabled) {\n  pointer-events: all;\n}\n#container:not(.game-started) .board-container.disabled > .cell {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n#container:not(.computer).game-started .board-container > .cell {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n#container:not(.computer).game-started .board-container.disabled,\n#container:not(.computer).game-started .board-container.disabled > .cell {\n  border-color: rgba(255, 255, 255, 0.5);\n}\n#container:not(.computer).game-started .board-container:not(.disabled) > .cell {\n  pointer-events: all;\n}\n#container:not(.computer).game-started .board-container:not(.disabled) > .cell:not(.shot) {\n  cursor: pointer;\n}\n#container:not(.computer).game-started .board-container:not(.disabled) > .cell:not(.shot):hover {\n  border-color: skyblue;\n  background-color: rgb(135, 206, 235, 0.5);\n}\n#container:not(.computer).game-started .board-container > .cell.shot::before,\n#container:not(.computer).game-started .board-container > .cell.shot::after {\n  opacity: 1;\n}\n#container:not(.computer).game-started .board-container > .cell.shot.ship::before,\n#container:not(.computer).game-started .board-container > .cell.shot.ship::after {\n  background-color: red;\n}\n#container:not(.computer).game-started > main > #player-1-container > #player-1-board > .cell.shot.ship,\n#container:not(.computer).game-started > main > #player-2-container > #player-2-board > .cell.shot.ship {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n#container.computer > main #player-2-board > .cell {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n#container.computer.game-started #player-2-board:not(.disabled) > .cell {\n  background-color: rgba(0, 0, 0, 0.1);\n  pointer-events: all;\n}\n#container.computer.game-started #player-2-board > .cell:not(.shot) {\n  cursor: pointer;\n}\n#container.computer.game-started #player-2-board > .cell:not(.shot):hover {\n  border-color: skyblue;\n  background-color: rgb(135, 206, 235, 0.5);\n}\n#container.computer.game-started .board-container > .cell.shot::before,\n#container.computer.game-started .board-container > .cell.shot::after {\n  opacity: 1;\n}\n#container.computer.game-started .board-container > .cell.shot.ship::before,\n#container.computer.game-started .board-container > .cell.shot.ship::after {\n  background-color: red;\n}\n#container.computer.game-started > main > #player-1-container > #player-1-board > .cell.shot.ship,\n#container.computer.game-started > main > #player-2-container > #player-2-board > .cell.shot.ship {\n  background-color: rgba(255, 0, 0, 0.5);\n}\n\n.cell::before,\n.cell::after {\n  position: absolute;\n  content: "";\n  height: 90%;\n  width: 10%;\n  background-color: rgba(255, 255, 255, 0.8);\n  border-radius: 0.4rem;\n  opacity: 0;\n  z-index: 10;\n  transition: opacity 0.3s ease;\n}\n.cell::before {\n  transform: rotate(45deg);\n}\n.cell::after {\n  transform: rotate(-45deg);\n}\n\n.cell.ship-1,\n.ship-container > .ship-1 {\n  background-color: #575757;\n}\n.cell.ship-2,\n.ship-container > .ship-2 {\n  background-color: #464646;\n}\n.cell.ship-3,\n.ship-container > .ship-3 {\n  background-color: #343434;\n}\n.cell.ship-4,\n.ship-container > .ship-4 {\n  background-color: #232323;\n}\n.cell.ship-5,\n.ship-container > .ship-5 {\n  background-color: #111111;\n}\n\n/* Ships Container */\n.ships-container {\n  position: fixed;\n  height: 80dvh;\n  width: 60dvh;\n  border: 2px solid white;\n  border-radius: 0.3rem;\n  background-color: rgba(0, 0, 0, 0.8);\n  display: grid;\n  grid-template-rows: repeat(5, 1fr);\n  padding: 0 1rem;\n  padding-top: 9.5rem;\n  padding-bottom: 5rem;\n  gap: 0.8rem;\n  user-select: none;\n  z-index: 10;\n  transition: transform 0.5s ease, opacity 0.5s ease;\n}\n#player-1-ships-container {\n  right: 10%;\n  bottom: 10%;\n}\n#player-2-ships-container {\n  left: 10%;\n  bottom: 10%;\n}\n.ships-container:not(.visible) {\n  opacity: 0;\n}\n#player-1-ships-container:not(.visible) {\n  transform: translateX(200%);\n}\n#player-2-ships-container:not(.visible) {\n  transform: translateX(-200%);\n}\n.ships-container.vertical {\n  grid-template-rows: none;\n  grid-template-columns: repeat(5, 1fr);\n}\n.ships-container.vertical > .ship-container > .ship {\n  height: fit-content;\n  flex-direction: column;\n  max-height: unset;\n  max-width: 2.5rem;\n}\n.ships-container.vertical > .ship-container > .ship > .ship-section {\n  height: 2.5rem;\n  flex: none;\n}\n.ships-container > .ship-container {\n  border: 2px solid white;\n  background-color: rgba(255, 255, 255, 0.3);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ships-container > .ship-container > .ship {\n  height: 100%;\n  display: flex;\n  max-height: 2.5rem;\n  cursor: grab;\n  transition: opacity 0.3s ease;\n}\n.ships-container > .ship-container > .ship > .ship-section {\n  border: 2px solid white;\n  flex: 1;\n  width: 2.5rem;\n}\n.button {\n  background: none;\n  outline: none;\n  border: 2px solid white;\n  border-radius: 0.2rem;\n  color: white;\n  font-size: 1.2rem;\n  padding: 0.4rem 1rem;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n#container.started .button {\n  pointer-events: none;\n}\n#player-1-ships-container-header,\n#player-2-ships-container-header {\n  top: 0;\n  position: absolute;\n  padding: 1rem;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 0.4rem;\n}\n.game-start-instructions {\n  background-color: rgba(255, 255, 255, 0.3);\n  padding: 0.4rem;\n  border-radius: 0.2rem;\n  min-width: 23rem;\n  height: 4.5rem;\n}\n.game-start-instructions.error {\n  color: skyblue;\n}\n.orientation-button {\n  width: fit-content;\n}\n.button:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.button:active {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n.ships-container > .ship-container > .ship.placed {\n  cursor: default;\n  opacity: 0.5;\n  pointer-events: none;\n}\n.ships-container-actions {\n  position: absolute;\n  bottom: 6%;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 100%;\n}\n.ships-container-actions > .button {\n  width: 30%;\n}\n\n/* Message */\n#message-container {\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  z-index: 50;\n  pointer-events: none;\n  user-select: none;\n}\n#message-overlay {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s ease;\n}\n#message {\n  color: white;\n  background-color: rgba(0, 0, 0, 0.5);\n  height: 50dvh;\n  width: 70dvh;\n  border: 2px solid rgba(255, 255, 255, 0.9);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  padding: 0 1rem;\n  text-align: center;\n  border-radius: 0.4rem;\n  pointer-events: none;\n  opacity: 0;\n  transform: translateY(-150%);\n  transition: transform 0.3s ease, opacity 0.3s ease;\n  z-index: 55;\n}\n#message-title {\n  font-size: 2rem;\n  font-weight: 600;\n}\n#message-text {\n  font-size: 1.4rem;\n}\n#message-actions > * {\n  border: 2px solid rgba(255, 255, 255, 0.9);\n  outline: none;\n  background: none;\n  font-size: 1.4rem;\n  padding: 0.4rem 1rem;\n  background-color: #66c3e7;\n  border-radius: 0.4rem;\n  cursor: pointer;\n  color: inherit;\n  transition: transform 0.3s ease;\n}\n#message-actions > *:hover {\n  transform: scale(1.04);\n}\n#message-actions > *:active {\n  transition: transform 0.1s ease;\n  transform: scale(1.02);\n}\n#message-container.show > #message-overlay {\n  opacity: 1;\n  pointer-events: all;\n}\n#message-container.show > #message {\n  opacity: 1;\n  transform: translateY(0%);\n  pointer-events: all;\n}\n\n/* Game mode Selection */\n#game-mode-selection-container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  pointer-events: none;\n  user-select: none;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10;\n}\n#game-mode-selection {\n  border: 2px solid rgba(255, 255, 255, 0.9);\n  border-radius: 0.2rem;\n  height: 50dvh;\n  width: 60dvh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  color: white;\n  padding: 0 1rem;\n  user-select: none;\n  opacity: 0;\n  transform: translateY(-200%);\n  transition: opacity 0.3s ease, transform 0.3s ease;\n}\n#game-mode-selection-container.visible > #game-mode-selection {\n  pointer-events: all;\n  opacity: 1;\n  transform: translateY(0);\n}\n#game-mode-selection-title-text {\n  font-size: 2rem;\n}\n#game-modes {\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n}\n#player-computer,\n#player-player {\n  background: none;\n  border: none;\n  outline: none;\n  color: inherit;\n  font-size: 1.2rem;\n  background-color: rgba(200, 200, 255, 0.3);\n  padding: 0.4rem 1.2rem;\n  width: 45%;\n  border-radius: 0.2rem;\n  cursor: pointer;\n  transition: transform 0.2s ease;\n}\n#player-computer:hover,\n#player-player:hover {\n  transform: scale(1.05);\n}\n#player-computer:active,\n#player-player:active {\n  transform: scale(1.025);\n}\n#overlay {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: #1c1c1c;\n  z-index: 10;\n  pointer-events: none;\n  user-select: none;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n#overlay.visible {\n  pointer-events: all;\n  opacity: 1;\n}\n\n/* player Input */\n\n#player-input-container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  z-index: 10;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  pointer-events: none;\n  user-select: none;\n}\n#player-input-container.visible {\n  opacity: 1;\n  pointer-events: all;\n}\n#player-input {\n  border: 2px solid white;\n  border-radius: 0.4rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  height: 50%;\n  width: 40%;\n  opacity: 0;\n  transform: translateY(200%);\n  transition: opacity 0.3s ease, transform 0.3s ease;\n}\n#player-input-container.visible > #player-input {\n  opacity: 1;\n  transform: translateY(0);\n}\n#players {\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex: 5;\n}\n#players > * {\n  padding: 1rem;\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n}\n#players > :first-child {\n  border-right: 1px solid white;\n  border-bottom: 2px solid white;\n}\n#players > :last-child {\n  display: none;\n  border-left: 1px solid white;\n  border-bottom: 2px solid white;\n}\n#players > * > h2 {\n  font-size: 2rem;\n}\n#players > * > :last-child {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n}\n#players > * > :last-child > label {\n  font-size: 1.5rem;\n}\n#players > * > :last-child > input {\n  border: none;\n  outline: none;\n  background-color: rgba(255, 255, 255, 0.5);\n  padding: 0.4rem 0.8rem;\n  border-radius: 0.2rem;\n  color: white;\n  font-size: 1.5rem;\n  border: 2px solid white;\n}\n\n#player-input-confirm-button {\n  background: none;\n  outline: none;\n  border: 2px solid white;\n  border-radius: 0.2rem;\n  font-size: 1.2rem;\n  background-color: rgba(255, 255, 255, 0.5);\n  color: inherit;\n  padding: 0.4rem 1rem;\n  margin: 1rem;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n}\n#player-input-confirm-button:hover {\n  transform: scale(1.05);\n}\n#player-input-confirm-button:active {\n  transition: transform 0.1s ease;\n  transform: scale(1.025);\n}\n#player-input-container.player > #player-input > #players > #player2-input {\n  display: flex;\n}\n#player-input-container.player > #player-input {\n  width: 75%;\n}\n#player-input-back-button {\n  position: absolute;\n  background: none;\n  border: none;\n  outline: none;\n  color: inherit;\n  font-size: 1.2rem;\n  top: 0;\n  left: 0;\n  border-color: white;\n  border-style: solid;\n  border-width: 0 2px 2px 0;\n  padding: 0.4rem 1rem;\n  background-color: rgba(255, 255, 255, 0.4);\n  font-weight: 600;\n  border-top-left-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n#player-input-back-button:hover {\n  background-color: rgba(255, 255, 255, 0.5);\n}\n#player-input-back-button:active {\n  transition: background-color 0.1s ease;\n  background-color: rgba(255, 255, 255, 0.6);\n}\n\n/* Notification */\n#notification-container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  z-index: 10;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n  pointer-events: none;\n}\n#notification-message {\n  background-color: hsl(197, 71%, 50%);\n  font-size: 1.4rem;\n  color: white;\n  width: fit-content;\n  padding: 1rem;\n  border-radius: 0.4rem;\n  border: 2px solid white;\n  border-left: 8px solid white;\n  margin-left: 0.5rem;\n  margin-bottom: 0.5rem;\n  user-select: none;\n  pointer-events: visible;\n  opacity: 0;\n  transition: opacity 1s ease;\n}\n#notification-message.visible {\n  opacity: 1;\n}\n\n/* Background Animation */\n#container {\n  height: 100vh;\n  width: 100vw;\n  background: linear-gradient(45deg, #7700ff, #008bff, #00ff3e);\n  background-size: 300% 300%;\n}\n\n#player-1-name,\n#player-2-name,\n#player-turn {\n  color: white;\n}\n.board-container {\n  border-color: rgba(255, 255, 255, 0.9);\n  box-shadow: 0 0 1rem 1rem rgba(0, 0, 0, 0.1);\n  border-radius: 0.2rem;\n}\n.cell {\n  border-color: rgba(255, 255, 255, 0.8);\n}',""]);const i=s}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),s=t.n(o),i=t(659),l=t.n(i),c=t(56),d=t.n(c),m=t(540),p=t.n(m),u=t(113),h=t.n(u),g=t(919),b={};b.styleTagTransform=h(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=p(),a()(g.A,b),g.A&&g.A.locals&&g.A.locals;const f=function(e){if(!e)throw new Error("Ship length must be provided!");if(!Number.isInteger(e))throw new Error("Ship length must be an integer");if(e<2||e>5)throw new Error("Ship length must be between 2 - 5");const n=e;let t=0,r=!1;return{get length(){return n},get hits(){return t},hit:()=>(r||++t>=n&&(r=!0),t),get sunk(){return r}}},y=function(e){let n=e||null;const t=function(){const e=[f(2),f(3),f(3),f(4),f(5)],n=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],t=[];function r(){return e.every(e=>!0===e.sunk)}return{get board(){return n},get ships(){return e},receiveAttack:function(a,o){if(!Number.isInteger(a)||!Number.isInteger(o))throw new Error("Coordinates must be integers!");if(a>9||a<0||o>9||o<0)throw new Error("Invalid coordinates!");if(0===n[a][o])n[a][o]=-1,t.push([a,o]);else{switch(n[a][o]){case 1:e[0].hit();break;case 2:e[1].hit();break;case 3:e[2].hit();break;case 4:e[3].hit();break;case 5:e[4].hit()}n[a][o]=-2}r()&&console.info("All ships sunk")},get missedShots(){return t},get allShipsSunk(){return r()},placeShip:function(t,r,a=!1){const[o,s]=t;if(a){const t=[];for(let n=0;n<e[r-1].length;n++)t.push([o,s+n]);if(t.some(e=>{const n=e[0],t=e[1];return n>9||n<0||t>9||t<0}))throw new Error("Can't place ship off board");if(n.some(e=>e.some(e=>e===r)))throw new Error("The ship has been placed already!");if(t.some(e=>[1,2,3,4,5].some(t=>n[e[0]][e[1]]===t)))throw new Error("Occupied cells");t.forEach(e=>{n[e[0]][e[1]]=r})}else{const t=[];for(let n=0;n<e[r-1].length;n++)t.push([o+n,s]);if(t.some(e=>{const n=e[0],t=e[1];return n>9||n<0||t>9||t<0}))throw new Error("Can't place ship off board");if(n.some(e=>e.some(e=>e===r)))throw new Error("The ship has been placed already!");if(t.some(e=>[1,2,3,4,5].some(t=>n[e[0]][e[1]]===t)))throw new Error("Occupied cells");t.forEach(e=>{n[e[0]][e[1]]=r})}}}}();if("computer"===e.toLowerCase()){const r=[];for(let s=0;s<t.board.length;s++)for(let i=0;i<t.board[s].length;i++)r.push([s,i]);const a=[];function o(){if(a.length>=1){const e=a.splice(Math.floor(Math.random()*a.length),1)[0],n=r.findIndex(n=>{const t=n[0],r=n[1];return e[0]===t&&e[1]===r});if(-1!==n)return r.splice(n,1)[0]}if(!(r.length<=0))return r.splice(Math.floor(Math.random()*r.length),1)[0]}return{get gameboard(){return t},get name(){return n},set name(e){if(!e)throw new Error("New name isn't provided");n=e},shoot:o,addAdjacentCoordinates(e){a.push(e)}}}return{get gameboard(){return t},get name(){return n},set name(e){if(!e)throw new Error("New name isn't provided");n=e}}},v=document.getElementById("container"),w=document.getElementById("player-1-board"),E=document.getElementById("player-1-ships-container"),x=document.getElementById("player-2-board"),L=[...document.getElementsByClassName("ship")],k=document.getElementById("player-1-name"),C=document.getElementById("player-2-name");let I,B=T();function T(){const e=y("Computer");return e.gameboard.placeShip([3,9],1),e.gameboard.placeShip([6,7],2),e.gameboard.placeShip([8,3],3,!0),e.gameboard.placeShip([4,2],4,!0),e.gameboard.placeShip([1,1],5,!0),e}function S(e,n){const[t,r]=e.shoot();n.gameboard.receiveAttack(t,r);const a=w.querySelector(`.row-${t}.column-${r}`);a.classList.add("shot"),a.dataset.shot="",Me.refreshCell(n,a);const o=Me.isGameOver(n,e);if(o)1===o?Me.showMessage("Game Over!","has sunk all of the ships of","Restart",n.name,e.name):Me.showMessage("Game Over!","has sunk all of the ships of","Restart",e.name,n.name);else if(-1===n.gameboard.board[t][r])Me.isPlayerTurn=!Me.isPlayerTurn,x.style.pointerEvents="none",Me.displayTurn(Me.isPlayerTurn,n.name,e.name),Me.switchTurn(Me.isPlayerTurn,w,x);else{const a=function(e,n){const t=e[0],r=e[1],a=[];return[[t-1,r],[t+1,r],[t,r-1],[t,r+1]].forEach(e=>{-1!==n[e[0]][e[1]]&&-2!==n[e[0]][e[1]]&&a.push(e)}),a}([t,r],n.gameboard.board);a.forEach(n=>{const t=n[0],r=n[1];e.addAdjacentCoordinates([t,r])}),S(e,n)}}const z={init:function(e){I=y(e),B=T(),Me.renderPlayerBoard(I,w),Me.renderComputerBoard(B,x,I,w),x.style.pointerEvents="none",E.classList.add("visible"),k.textContent=Me.capitalize(I.name),C.textContent=Me.capitalize(B.name),v.classList.add("computer"),L.forEach(e=>{e.addEventListener("dragstart",()=>{Me.setDraggedShip(e)}),e.addEventListener("dragend",()=>{Me.clearDraggedShip()})})},startGame:function(){B&&x&&Me.renderComputerBoard(B,x,I,w),Me.isPlayerTurn=Math.random()<.5,Me.displayTurn(Me.isPlayerTurn,I.name,B.name),Me.switchTurn(Me.isPlayerTurn,w,x),Me.isPlayerTurn||Me.computerShootDelay(S,B,I)},shoot:S,get player(){return I},get computer(){return B}},A=z,N=document.getElementById("player-1-name"),P=document.getElementById("player-1-board"),j=document.getElementById("player-1-ships-container"),M=document.getElementById("player-2-name"),O=document.getElementById("player-2-board");let G,H;const $={init:function(e,n){e&&(G=y(e),N.textContent=Me.capitalize(e),Me.renderPlayerBoard(G,P),j.classList.add("visible"),P.style.pointerEvents="all",O.style.pointerEvents="none"),n&&(H=y(n),M.textContent=Me.capitalize(n),Me.renderPlayerBoard(H,O))},startGame:function(){G&&P&&Me.renderPlayerBoard(G,P),H&&O&&Me.renderPlayerBoard(H,O),Me.isPlayerTurn=Math.random()<.5,Me.displayTurn(Me.isPlayerTurn,G.name,H.name),Me.switchTurn(Me.isPlayerTurn,P,O)},get playerOne(){return G},get playerTwo(){return H}},D=document.getElementById("container"),R=document.getElementById("overlay"),Y=document.getElementById("game-mode-selection-container"),q=document.getElementById("player-computer"),U=document.getElementById("player-player"),F=document.getElementById("player-input-container"),X=document.getElementById("player1-input-name-text"),_=document.getElementById("player2-input-name-text"),J=document.getElementById("player-input-confirm-button"),V=document.getElementById("notification-message"),K=document.getElementById("player-1-ships-container"),Q=document.getElementById("player-2-ships-container"),W=[...document.getElementsByClassName("ship")],Z=document.getElementById("player-1-game-start-instructions"),ee=document.getElementById("player1-input-title"),ne=document.getElementById("player-input-back-button"),te=[...document.getElementsByClassName("game-start-instructions")],re=[...document.getElementsByClassName("orientation-button")],ae=[...document.getElementsByClassName("start-button")],oe=document.getElementById("player-turn"),se=document.getElementById("player-1-ships-container-back-button"),ie=document.getElementById("player-1-ships-container-continue-button"),le=document.getElementById("player-2-ships-container-back-button"),ce=document.getElementById("player-2-ships-container-start-button"),de=document.getElementById("player-1-board"),me=document.getElementById("player-2-board"),pe=document.getElementById("message-container"),ue=document.getElementById("message-title"),he=document.getElementById("message-text"),ge=document.getElementById("message-action");let be,fe,ye=null;function ve(e,n){V.classList.contains("visible")?(clearTimeout(be),be=setTimeout(()=>{V.classList.remove("visible")},1e3*n)):(V.classList.add("visible"),be=setTimeout(()=>{V.classList.remove("visible")},1e3*n)),V.textContent=e}function we(){return"true"===D.dataset.gameStarted}function Ee(){return{player1Name:X.value.trim(),player2Name:_.value.trim()}}function xe(e=!1){Y.classList.remove("visible"),F.classList.add("visible"),X.value="",_.value="",e?(ee.textContent="Enter Player's Name",F.classList.remove("player"),D.dataset.gamemode="computer",D.classList.remove("player"),D.classList.add("computer")):(ee.textContent="Enter Player - 1's Name",F.classList.add("player"),D.dataset.gamemode="player",D.classList.remove("computer"),D.classList.add("player")),X.select()}function Le(e,n,t){const r=Math.floor(2*Math.random())+1;setTimeout(()=>{oe.textContent="Computer is thinking...",setTimeout(()=>{e(n,t)},1e3*r)},1e3)}function ke(e,n){return n.gameboard.allShipsSunk?1:!!e.gameboard.allShipsSunk&&2}function Ce(e,n,t,r=null,a=null){pe.classList.add("show"),ue.textContent=e,r&&a?he.innerHTML=`<strong>${je(r)}</strong> ${n} <strong>${je(a)}</strong>.`:he.textContent=n,ge.textContent=t}function Ie(e,n){if(!e||!n)return!1;const t=parseInt(e[0]),r=parseInt(e[1]);return n.querySelector(`.cell.row-${t}.column-${r}`)}function Be(e){ye=e}function Te(){ye=null}function Se(e,n){const t=e.gameboard.board,r=Number(n.dataset.row),a=Number(n.dataset.column);-1!==t[r][a]&&-2!==t[r][a]||(n.classList.add("shot"),n.dataset.shot="")}function ze(e=null,n=!0,t=!1){let r=null;te.forEach(e=>{e.parentElement.parentElement.classList.contains("visible")&&(r=e)}),r&&n&&e?(r.textContent=e,r.classList.add("error")):(r.textContent="Place all of your ships on the board to start the game",r.classList.remove("error"),t&&(r.textContent=""))}function Ae(e,n,t){oe.textContent=`${je(e?n:t)}'s Turn`}function Ne(e,n,t){e?(n.classList.add("disabled"),t.classList.remove("disabled")):(t.classList.add("disabled"),n.classList.remove("disabled"))}function Pe(e){const n=new Set;for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++)[1,2,3,4,5].includes(e[t][r])&&n.add(e[t][r]);return[...n]}function je(e){return e[0].toUpperCase()+e.toLowerCase().slice(1)}const Me={init:function(){setTimeout(()=>{document.getElementById("message-container").removeAttribute("style"),K.removeAttribute("style"),Q.removeAttribute("style"),F.removeAttribute("style"),V.removeAttribute("style")},500),ge.addEventListener("click",()=>{pe.classList.remove("show"),F.classList.add("visible"),R.classList.add("visible"),D.classList.remove("game-started"),D.dataset.gameStarted=!1,de.classList.remove("disabled"),me.classList.add("disabled"),W.forEach(e=>e.classList.remove("placed")),oe.textContent="---",X.select()}),q.addEventListener("click",()=>{we()||xe(!0)}),U.addEventListener("click",()=>{we()||xe(!1)}),J.addEventListener("click",()=>{if("computer"===D.dataset.gamemode){const{player1Name:e}=Ee();""===e?ve("Enter player's name",5):"computer"===e.toLowerCase()?ve('Player name can\'t be "computer"',5):(F.classList.remove("visible"),R.classList.remove("visible"),A.init(e),ie.textContent="Start",ze(null,!1))}else if("player"===D.dataset.gamemode){const{player1Name:e,player2Name:n}=Ee();""===e&&""===n?ve("Enter both player's name",5):""===e?ve("Enter player - 1's name",5):""===n?ve("Enter player - 2's name",5):"computer"===e.toLowerCase()?ve("Player - 1's name can't be \"computer\"",5):"computer"===n.toLowerCase()?ve("Player - 2's name can't be \"computer\"",5):(F.classList.remove("visible"),R.classList.remove("visible"),$.init(e,n),ie.textContent="Continue",ze(null,!1))}}),ne.addEventListener("click",()=>{Y.classList.add("visible"),F.classList.remove("visible")}),re.forEach(e=>{e.addEventListener("click",()=>{const n=e.parentElement.parentElement;n.classList.contains("vertical")?(n.classList.remove("vertical"),n.dataset.isHorizontal="true",e.textContent="Vertical (ctrl)"):(n.classList.add("vertical"),n.dataset.isHorizontal="false",e.textContent="Horizontal (ctrl)")})}),ae.forEach(e=>{e.addEventListener("click",()=>{e.parentElement.classList.remove("visible"),$.startGame(),D.dataset.gameStarted=!0,D.classList.add("game-started")})}),window.addEventListener("keydown",e=>{"Control"===e.key&&"true"!==D.dataset.gameStarted&&re.forEach(e=>{const n=e.parentElement.parentElement;n.classList.contains("visible")&&(n.classList.contains("vertical")?(n.classList.remove("vertical"),n.dataset.isHorizontal=!0):(n.classList.add("vertical"),n.dataset.isHorizontal=!1))})}),window.startGame=function(){if("computer"===D.dataset.gamemode){if(5!==Pe($.playerOne.gameboard.board).length)throw new Error("All ships must be placed to start the game!");A.startGame()}else{const e=Pe($.playerOne.gameboard.board),n=Pe($.playerTwo.gameboard.board);if(5!==e.length||5!==n.length)throw new Error("All ships must be placed to start the game!");$.startGame()}},W.forEach(e=>{e.addEventListener("dragstart",()=>{Be(e)}),e.addEventListener("dragend",()=>{Te()})}),se.addEventListener("click",()=>{K.classList.remove("visible"),F.classList.add("visible"),R.classList.add("visible"),[...K.getElementsByClassName("ship")].forEach(e=>{e.classList.remove("placed")})}),ie.addEventListener("click",()=>{if("computer"===D.dataset.gamemode)try{if(5!==Pe(A.player.gameboard.board).length)throw new Error("All ships must be placed to start the game!");K.classList.remove("visible"),A.startGame(),D.dataset.gameStarted=!0,D.classList.add("game-started")}catch(e){Z.textContent=e.message,Z.classList.add("error"),console.error(e.message)}else try{if(5!==Pe($.playerOne.gameboard.board).length)throw new Error("All ships must be placed to continue the game!");K.classList.remove("visible"),Q.classList.add("visible"),de.classList.add("disabled"),de.style.pointerEvents="none",me.classList.remove("disabled"),me.style.pointerEvents="all"}catch(e){Z.textContent=e.message,Z.classList.add("error"),console.error(e.message)}}),le.addEventListener("click",()=>{Q.classList.remove("visible"),K.classList.add("visible");const{player2Name:e}=Ee();$.init(null,e),[...Q.getElementsByClassName("ship")].forEach(e=>{e.classList.remove("placed")})}),ce.addEventListener("click",()=>{window.startGame(),Q.classList.remove("visible"),de.removeAttribute("style"),me.removeAttribute("style"),D.dataset.gameStarted="true",D.classList.add("game-started")})},renderPlayerBoard:function(e,n){n.innerHTML="";for(let t=0;t<e.gameboard.board.length;t++)for(let r=0;r<e.gameboard.board[t].length;r++){const a=e.gameboard.board[t][r],o=document.createElement("div");o.className=`cell row-${t} column-${r}`,[1,2,3,4,5].forEach(e=>{a===e&&o.classList.add("ship",`ship-${e}`)}),-1!==a&&-2!==a||(o.classList.add("shot"),o.dataset.shot=""),o.dataset.row=t,o.dataset.column=r,n.appendChild(o)}!function(e,n){const t=[...n.children];function r(e,n,t){return{x:parseInt(e.dataset.row),y:parseInt(e.dataset.column),shipLength:parseInt(n.dataset.length),shipClassList:[...n.classList],isHorizontal:"true"===t.dataset.isHorizontal}}t.forEach(t=>{t.addEventListener("dragover",e=>{if(e.preventDefault(),!ye)return;const a=ye.parentElement.parentElement,{x:o,y:s,shipLength:i,shipClassList:l,isHorizontal:c}=r(t,ye,a);if(c)for(let e=0;e<i;e++){const t=Ie([o,s+e],n);t&&t.classList.add(l[1])}else for(let e=0;e<i;e++){const t=Ie([o+e,s],n);t&&t.classList.add(l[1])}}),t.addEventListener("dragleave",()=>{if(!ye)return;const e=ye.parentElement.parentElement,{x:a,y:o,shipLength:s,shipClassList:i,isHorizontal:l}=r(t,ye,e);if(l)for(let e=0;e<s;e++){const t=Ie([a,o+e],n);t&&t.classList.remove(i[1])}else for(let e=0;e<s;e++){const t=Ie([a+e,o],n);t&&t.classList.remove(i[1])}}),t.addEventListener("drop",a=>{if(a.preventDefault(),!ye)return;const o=ye.parentElement.parentElement,{x:s,y:i,shipLength:l,shipClassList:c,isHorizontal:d}=r(t,ye,o);try{if(e.gameboard.placeShip([s,i],parseInt(ye.dataset.index),d),d)for(let e=0;e<l;e++){const t=Ie([s,i+e],n);t&&t.classList.add(...c)}else for(let e=0;e<l;e++){const t=Ie([s+e,i],n);t&&t.classList.add(...c)}ye.classList.add("placed"),ze(null,!1)}catch(e){if(d)for(let e=0;e<l;e++){const t=Ie([s,i+e],n);t&&t.classList.remove(c[1])}else for(let e=0;e<l;e++){const t=Ie([s+e,i],n);t&&t.classList.remove(c[1])}console.error(e),ze(e.message)}})}),t.forEach(n=>{n.addEventListener("click",()=>{if("true"!==D.dataset.gameStarted)return;const t=parseInt(n.dataset.row),r=parseInt(n.dataset.column);try{e.gameboard.receiveAttack(t,r),Se(e,n),n.classList.contains("ship")||(fe=!fe,Ae(fe,$.playerOne.name,$.playerTwo.name),Ne(fe,de,me));const a=ke($.playerOne,$.playerTwo);if(a)return void(1===a?Ce("Game Over!","has sunk all of the ships of","Restart",$.playerOne.name,$.playerTwo.name):Ce("Game Over!","has sunk all of the ships of","Restart",$.playerTwo.name,$.playerOne.name))}catch(e){console.error(e)}})})}(e,n),[...n.children].forEach(n=>{n.addEventListener("click",()=>{!function(e,n){if(!we())return;const t=parseInt(n.dataset.row),r=parseInt(n.dataset.column);try{e.gameboard.receiveAttack(t,r)}catch(e){console.log(e)}}(e,n)})})},renderComputerBoard:function(e,n,t,r){n.innerHTML="";for(let a=0;a<e.gameboard.board.length;a++)for(let o=0;o<e.gameboard.board[a].length;o++){const s=e.gameboard.board[a][o],i=document.createElement("div");i.className=`cell row-${a} column-${o}`,[1,2,3,4,5].forEach(e=>{s===e&&i.classList.add("ship",`ship-${e}`)}),-1!==s&&-2!==s||(i.classList.add("shot"),i.dataset.shot=""),i.dataset.row=a,i.dataset.column=o,i.addEventListener("click",()=>{if(""===i.dataset.shot)return;e.gameboard.receiveAttack(a,o),Se(e,i);const s=ke(t,e);s?1===s?Ce("Game Over!","has sunk all of the ships of","Restart",t.name,e.name):Ce("Game Over!","has sunk all of the ships of","Restart",e.name,t.name):-1===e.gameboard.board[a][o]&&(fe=!fe,n.style.pointerEvents="none",Ae(fe,t.name,e.name),Ne(fe,r,n),fe||Le(A.shoot,e,t))}),n.appendChild(i)}},setDraggedShip:Be,clearDraggedShip:Te,displayTurn:Ae,switchTurn:Ne,capitalize:je,isGameOver:ke,refreshCell:Se,getAllPlacedShipNumbers:Pe,get isPlayerTurn(){return fe},set isPlayerTurn(e){fe=e},showMessage:Ce,computerShootDelay:Le};Me.init()})();